
## Cert manager integration with Vault


Ensure that the cluster trust the Root CA that was generated by the `vault-pki-config.sh` script.

```bash
oc create configmap  -n openshift-config user-ca-bundle --from-file=ca-bundle.crt=RH_Custom_CA.crt
oc patch --type=merge --patch='{"spec":{"trustedCA": {"name": "user-ca-bundle"}}}' Proxy cluster

```

Configure a ClusterIssuer for deploying general certificates, to check functionality of Vault and to demonstrate Vault auth using Kubernetes Service Accounts:

```bash
oc apply -f yaml/015-cert-manager-config.yaml


$ oc get ClusterIssuer -owide
NAME           READY   STATUS           AGE
vault-issuer   True    Vault verified   83m
```

Ref: https://developers.redhat.com/articles/2023/08/24/integrate-openshift-service-mesh-cert-manager-and-vault#configure_the_vault_issuer

